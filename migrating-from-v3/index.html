<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Migrating from v3 | Vue CLI</title>
    <meta name="generator" content="VuePress 1.5.2">
    <link rel="icon" href="../favicon.png">
    <link rel="manifest" href="../manifest.json">
    <link rel="apple-touch-icon" href="../icons/apple-touch-icon-152x152.png">
    <link rel="mask-icon" href="../icons/safari-pinned-tab.svg" color="#3eaf7c">
    <meta name="description" content="🛠️ Standard Tooling for Vue.js Development">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/icons/msapplication-icon-144x144.png">
    <meta name="msapplication-TileColor" content="#000000">
    <link rel="preload" href="../assets/css/0.styles.766c0c54.css" as="style"><link rel="preload" href="../assets/js/app.3a83c7af.js" as="script"><link rel="preload" href="../assets/js/3.ec443443.js" as="script"><link rel="preload" href="../assets/js/41.685e0683.js" as="script"><link rel="preload" href="../assets/js/4.cec72248.js" as="script"><link rel="prefetch" href="../assets/js/10.6e49ed57.js"><link rel="prefetch" href="../assets/js/11.40cd1ae2.js"><link rel="prefetch" href="../assets/js/12.22c2dcda.js"><link rel="prefetch" href="../assets/js/13.24693857.js"><link rel="prefetch" href="../assets/js/14.c5808a8f.js"><link rel="prefetch" href="../assets/js/15.2e19ab0d.js"><link rel="prefetch" href="../assets/js/16.a1213259.js"><link rel="prefetch" href="../assets/js/17.7f7bcf46.js"><link rel="prefetch" href="../assets/js/18.dd5d8bbb.js"><link rel="prefetch" href="../assets/js/19.a775c813.js"><link rel="prefetch" href="../assets/js/20.03e094fe.js"><link rel="prefetch" href="../assets/js/21.72ec3f12.js"><link rel="prefetch" href="../assets/js/22.575a523e.js"><link rel="prefetch" href="../assets/js/23.8b0e59bc.js"><link rel="prefetch" href="../assets/js/24.a83650e9.js"><link rel="prefetch" href="../assets/js/25.f22c05eb.js"><link rel="prefetch" href="../assets/js/26.0f356330.js"><link rel="prefetch" href="../assets/js/27.9acc4f31.js"><link rel="prefetch" href="../assets/js/28.4a5266af.js"><link rel="prefetch" href="../assets/js/29.e5fae114.js"><link rel="prefetch" href="../assets/js/30.1057f880.js"><link rel="prefetch" href="../assets/js/31.5a445d6e.js"><link rel="prefetch" href="../assets/js/32.f621413b.js"><link rel="prefetch" href="../assets/js/33.95ae3e7c.js"><link rel="prefetch" href="../assets/js/34.fed7ff58.js"><link rel="prefetch" href="../assets/js/35.2530f06d.js"><link rel="prefetch" href="../assets/js/36.8e95abbf.js"><link rel="prefetch" href="../assets/js/37.72d665a1.js"><link rel="prefetch" href="../assets/js/38.e54581b0.js"><link rel="prefetch" href="../assets/js/39.9df9448d.js"><link rel="prefetch" href="../assets/js/40.fba8fdcd.js"><link rel="prefetch" href="../assets/js/42.4d52d833.js"><link rel="prefetch" href="../assets/js/43.3299b283.js"><link rel="prefetch" href="../assets/js/44.f2f0e1b5.js"><link rel="prefetch" href="../assets/js/45.ce7f447e.js"><link rel="prefetch" href="../assets/js/46.cb52e8dc.js"><link rel="prefetch" href="../assets/js/47.6dc81d50.js"><link rel="prefetch" href="../assets/js/48.3fed90fd.js"><link rel="prefetch" href="../assets/js/49.7eec3d74.js"><link rel="prefetch" href="../assets/js/5.4c1b4022.js"><link rel="prefetch" href="../assets/js/50.3dfe8be4.js"><link rel="prefetch" href="../assets/js/51.dc9a7a63.js"><link rel="prefetch" href="../assets/js/52.32ad1203.js"><link rel="prefetch" href="../assets/js/53.409850a8.js"><link rel="prefetch" href="../assets/js/54.3e173193.js"><link rel="prefetch" href="../assets/js/55.141d40df.js"><link rel="prefetch" href="../assets/js/56.56b7c6d8.js"><link rel="prefetch" href="../assets/js/57.b1142c03.js"><link rel="prefetch" href="../assets/js/58.7505dff4.js"><link rel="prefetch" href="../assets/js/59.16f4efcf.js"><link rel="prefetch" href="../assets/js/6.9c785fc5.js"><link rel="prefetch" href="../assets/js/60.94b5b035.js"><link rel="prefetch" href="../assets/js/61.418646a9.js"><link rel="prefetch" href="../assets/js/62.ecdd0aa1.js"><link rel="prefetch" href="../assets/js/63.1131279d.js"><link rel="prefetch" href="../assets/js/64.66e07d76.js"><link rel="prefetch" href="../assets/js/65.ebd87a2a.js"><link rel="prefetch" href="../assets/js/66.a97ccaf3.js"><link rel="prefetch" href="../assets/js/67.85573323.js"><link rel="prefetch" href="../assets/js/68.1a570571.js"><link rel="prefetch" href="../assets/js/69.3b7ca83d.js"><link rel="prefetch" href="../assets/js/7.081bd637.js"><link rel="prefetch" href="../assets/js/70.8bd49f84.js"><link rel="prefetch" href="../assets/js/71.dff63a8d.js"><link rel="prefetch" href="../assets/js/72.aadfc9f6.js"><link rel="prefetch" href="../assets/js/73.9eef1696.js"><link rel="prefetch" href="../assets/js/74.475abd5e.js"><link rel="prefetch" href="../assets/js/75.abca1be4.js"><link rel="prefetch" href="../assets/js/76.42014a89.js"><link rel="prefetch" href="../assets/js/77.af07a6a4.js"><link rel="prefetch" href="../assets/js/78.54b925a2.js"><link rel="prefetch" href="../assets/js/79.f68fdc7f.js"><link rel="prefetch" href="../assets/js/8.a592f026.js"><link rel="prefetch" href="../assets/js/80.c7610eba.js"><link rel="prefetch" href="../assets/js/81.d431db9d.js"><link rel="prefetch" href="../assets/js/82.c90eb6b6.js"><link rel="prefetch" href="../assets/js/83.78ed1e3d.js"><link rel="prefetch" href="../assets/js/84.0b418284.js"><link rel="prefetch" href="../assets/js/85.c1b73dc6.js"><link rel="prefetch" href="../assets/js/86.66fb1de5.js"><link rel="prefetch" href="../assets/js/87.d0e719cf.js"><link rel="prefetch" href="../assets/js/88.d4a43247.js"><link rel="prefetch" href="../assets/js/89.becbd67a.js"><link rel="prefetch" href="../assets/js/9.2ff26228.js"><link rel="prefetch" href="../assets/js/90.b68d3e21.js"><link rel="prefetch" href="../assets/js/91.e62498e0.js"><link rel="prefetch" href="../assets/js/92.94a582a9.js"><link rel="prefetch" href="../assets/js/93.0351e100.js"><link rel="prefetch" href="../assets/js/94.ee91b7e9.js"><link rel="prefetch" href="../assets/js/95.1983b616.js"><link rel="prefetch" href="../assets/js/96.4ef416ca.js"><link rel="prefetch" href="../assets/js/vendors~docsearch.4a8594da.js">
    <link rel="stylesheet" href="../assets/css/0.styles.766c0c54.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="../index.html" class="home-link router-link-active"><!----> <span class="site-name">Vue CLI</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="../guide/index.html" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="https://cli.vuejs.org/config/" class="nav-link">
  Config Reference
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Plugins" class="dropdown-title"><span class="title">Plugins</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Configuration
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="../core-plugins/index.html" class="nav-link">
  Core
</a></li></ul></li><li class="dropdown-item"><h4>
          Discover
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://awesomejs.dev/for/vue-cli/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Browse
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li><li class="dropdown-item"><h4>
          Development
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="../dev-guide/plugin-dev.html" class="nav-link">
  Guide
</a></li></ul></li><li class="dropdown-item"><h4>
          API
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="../dev-guide/plugin-api.html" class="nav-link">
  Plugin
</a></li><li class="dropdown-subitem"><a href="../dev-guide/generator-api.html" class="nav-link">
  Generator
</a></li></ul></li><li class="dropdown-item"><h4>
          UI
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="../dev-guide/ui-info.html" class="nav-link">
  Info
</a></li><li class="dropdown-subitem"><a href="../dev-guide/ui-api.html" class="nav-link">
  API
</a></li><li class="dropdown-subitem"><a href="../dev-guide/ui-localization.html" class="nav-link">
  Localization
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="index.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Migrating From v3
</a></div><div class="nav-item"><a href="https://github.com/vuejs/vue-cli/blob/dev/CHANGELOG.md" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Changelog
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="index.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="../zh/index.html" class="nav-link">
  简体中文
</a></li><li class="dropdown-item"><!----> <a href="../ru/migrating-from-v3/index.html" class="nav-link">
  Русский
</a></li></ul></div></div> <a href="https://github.com/vuejs/vue-cli" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="../guide/index.html" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="https://cli.vuejs.org/config/" class="nav-link">
  Config Reference
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Plugins" class="dropdown-title"><span class="title">Plugins</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Configuration
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="../core-plugins/index.html" class="nav-link">
  Core
</a></li></ul></li><li class="dropdown-item"><h4>
          Discover
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://awesomejs.dev/for/vue-cli/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Browse
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li><li class="dropdown-item"><h4>
          Development
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="../dev-guide/plugin-dev.html" class="nav-link">
  Guide
</a></li></ul></li><li class="dropdown-item"><h4>
          API
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="../dev-guide/plugin-api.html" class="nav-link">
  Plugin
</a></li><li class="dropdown-subitem"><a href="../dev-guide/generator-api.html" class="nav-link">
  Generator
</a></li></ul></li><li class="dropdown-item"><h4>
          UI
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="../dev-guide/ui-info.html" class="nav-link">
  Info
</a></li><li class="dropdown-subitem"><a href="../dev-guide/ui-api.html" class="nav-link">
  API
</a></li><li class="dropdown-subitem"><a href="../dev-guide/ui-localization.html" class="nav-link">
  Localization
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="index.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Migrating From v3
</a></div><div class="nav-item"><a href="https://github.com/vuejs/vue-cli/blob/dev/CHANGELOG.md" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Changelog
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="index.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="../zh/index.html" class="nav-link">
  简体中文
</a></li><li class="dropdown-item"><!----> <a href="../ru/migrating-from-v3/index.html" class="nav-link">
  Русский
</a></li></ul></div></div> <a href="https://github.com/vuejs/vue-cli" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav> <div class="carbon-ads"></div> <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Migrating from v3</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="#upgrade-all-plugins-at-once" class="sidebar-link">Upgrade All Plugins at Once</a><ul class="sidebar-sub-headers"></ul></li><li><a href="#one-by-one-manual-migration" class="sidebar-link">One-By-One Manual Migration</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="#the-global-vue-cli" class="sidebar-link">The Global @vue/cli</a></li><li class="sidebar-sub-header"><a href="#vue-cli-service" class="sidebar-link">@vue/cli-service</a></li><li class="sidebar-sub-header"><a href="#vue-cli-plugin-babel-vue-babel-preset-app" class="sidebar-link">@vue/cli-plugin-babel, @vue/babel-preset-app</a></li><li class="sidebar-sub-header"><a href="#vue-cli-plugin-eslint" class="sidebar-link">@vue/cli-plugin-eslint</a></li><li class="sidebar-sub-header"><a href="#vue-cli-plugin-pwa" class="sidebar-link">@vue/cli-plugin-pwa</a></li><li class="sidebar-sub-header"><a href="#vue-cli-plugin-e2e-cypress" class="sidebar-link">@vue/cli-plugin-e2e-cypress</a></li><li class="sidebar-sub-header"><a href="#vue-cli-plugin-e2e-nightwatch" class="sidebar-link">@vue/cli-plugin-e2e-nightwatch</a></li><li class="sidebar-sub-header"><a href="#vue-cli-plugin-typescript" class="sidebar-link">@vue/cli-plugin-typescript</a></li><li class="sidebar-sub-header"><a href="#vue-cli-plugin-unit-jest" class="sidebar-link">@vue/cli-plugin-unit-jest</a></li><li class="sidebar-sub-header"><a href="#vue-cli-plugin-unit-mocha" class="sidebar-link">@vue/cli-plugin-unit-mocha</a></li><li class="sidebar-sub-header"><a href="#vue-cli-service-global" class="sidebar-link">@vue/cli-service-global</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="migrating-from-v3"><a href="#migrating-from-v3" class="header-anchor">#</a> Migrating from v3</h1> <p>First, install the latest Vue CLI globally:</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">npm</span> <span class="token function">install</span> -g @vue/cli
<span class="token comment"># OR</span>
<span class="token function">yarn</span> global <span class="token function">add</span> @vue/cli
</code></pre></div><h2 id="upgrade-all-plugins-at-once"><a href="#upgrade-all-plugins-at-once" class="header-anchor">#</a> Upgrade All Plugins at Once</h2> <p>In your existing projects, run:</p> <div class="language-sh extra-class"><pre class="language-sh"><code>vue upgrade
</code></pre></div><p>And then see the following section for detailed breaking changes introduced in each package.</p> <hr> <h2 id="one-by-one-manual-migration"><a href="#one-by-one-manual-migration" class="header-anchor">#</a> One-By-One Manual Migration</h2> <p>If you want to migrate manually and gradually, here are the tips:</p> <h3 id="the-global-vue-cli"><a href="#the-global-vue-cli" class="header-anchor">#</a> The Global <code>@vue/cli</code></h3> <h4 id="redesigned-vue-upgrade"><a href="#redesigned-vue-upgrade" class="header-anchor">#</a> <a href="https://github.com/vuejs/vue-cli/pull/4090" target="_blank" rel="noopener noreferrer">Redesigned<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> <code>vue upgrade</code></h4> <ul><li>Before: <code>vue upgrade [patch | minor | major]</code>, and it does nothing more than installing the latest versions of Vue CLI plugins.</li> <li>After: <code>vue upgrade [plugin-name]</code>. Aside from upgrading the plugins, it can run migrators from plugins to help you automate the migration process. For more options for this command, please run <code>vue upgrade --help</code>.</li></ul> <h4 id="vue-version-output-format-change"><a href="#vue-version-output-format-change" class="header-anchor">#</a> <code>vue --version</code> Output Format Change</h4> <p>When running <code>vue --version</code>:</p> <ul><li>3.x: outputs <code>3.12.0</code></li> <li>4.x: outputs <code>@vue/cli 4.0.0</code></li></ul> <h4 id="extra-confirmation-step-to-avoid-overwriting"><a href="#extra-confirmation-step-to-avoid-overwriting" class="header-anchor">#</a> Extra Confirmation Step To Avoid Overwriting</h4> <p>When running <code>vue invoke</code> / <code>vue add</code> / <code>vue upgrade</code>, there's now an <a href="https://github.com/vuejs/vue-cli/pull/4275" target="_blank" rel="noopener noreferrer">extra confirmation step<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> if you have uncommitted changes in the current repository.</p> <p><img src="https://user-images.githubusercontent.com/3277634/65588457-23db5a80-dfba-11e9-9899-9dd72efc111e.png" alt="image"></p> <h4 id="vue-router-and-vuex-now-have-corresponding-cli-plugins"><a href="#vue-router-and-vuex-now-have-corresponding-cli-plugins" class="header-anchor">#</a> Vue Router and Vuex Now Have Corresponding CLI Plugins</h4> <p>When running <code>vue add vuex</code> or <code>vue add router</code>:</p> <ul><li>In v3, only <code>vuex</code> or <code>vue-router</code> will be added to the project;</li> <li>In v4, there will also be <code>@vue/cli-plugin-vuex</code> or <code>@vue/cli-plugin-router</code> installed.</li></ul> <p>This currently does not make an actual difference for end-users, but such design allows us to add more features for Vuex and Vue Router users later.</p> <p>For preset and plugin authors, there are several noteworthy changes in the two plugins:</p> <ul><li>The default directory structure was changed:
<ul><li><code>src/store.js</code> moved to <code>src/store/index.js</code>;</li> <li><code>src/router.js</code> renamed to <code>src/router/index.js</code>;</li></ul></li> <li>The <code>router</code> &amp; <code>routerHistoryMode</code> options in <code>preset.json</code> are still supported for compatibility reasons. But it's now recommended to use <code>plugins: { '@vue/cli-plugin-router': { historyMode: true } }</code> for better consistency.</li> <li><code>api.hasPlugin('vue-router')</code> is no longer supported. It's now <code>api.hasPlugin('router')</code>.</li></ul> <h3 id="vue-cli-service"><a href="#vue-cli-service" class="header-anchor">#</a> <code>@vue/cli-service</code></h3> <h4 id="whitespace-handling-in-the-template-block"><a href="#whitespace-handling-in-the-template-block" class="header-anchor">#</a> Whitespace handling in the template block</h4> <p>To get a smaller bundle, we've disabled the <code>preserveWhitespace</code> option of <code>vue-template-compiler</code> by default in Vue CLI v3.</p> <p>This set comes with some caveats, however.</p> <p>Luckily, since the Vue 2.6 release, we can now have finer control over the whitespace handling, with the <a href="https://github.com/vuejs/vue/issues/9208#issuecomment-450012518" target="_blank" rel="noopener noreferrer">new <code>whitespace</code> option<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. So we decided to switch over to use this new option by default in Vue CLI v4.</p> <p>Take the following template as an example:</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>
  Welcome to <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b</span><span class="token punctuation">&gt;</span></span>Vue.js<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span><span class="token punctuation">&gt;</span></span>world<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span>.
  Have fun!
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>With <code>preserveWhitespace: false</code>, all whitespaces between tags are removed, so it was compiled as:</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span> Welcome to <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b</span><span class="token punctuation">&gt;</span></span>Vue.js<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span><span class="token punctuation">&gt;</span></span>world<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span>. Have fun! <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>With <code>whitespace: 'condense'</code>, it is now compiled as:</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span> Welcome to <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b</span><span class="token punctuation">&gt;</span></span>Vue.js<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span><span class="token punctuation">&gt;</span></span>world<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span>. Have fun! <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>Note the <strong>inline</strong> whitespace between tags is now preserved.</p> <h4 id="vue-cli-service-build-mode-development"><a href="#vue-cli-service-build-mode-development" class="header-anchor">#</a> <code>vue-cli-service build --mode development</code></h4> <p>In the past, when running the <code>build</code> command in the <code>development</code> mode, the <code>dist</code> folder layout would be different from the <code>production</code> mode. Now with the following two changes, the directory structures across all modes would be the same (file names are still different - no hashes in <code>development</code> mode):</p> <ul><li><a href="https://github.com/vuejs/vue-cli/pull/4323" target="_blank" rel="noopener noreferrer">#4323<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> ensure consistent directory structure for all modes</li> <li><a href="https://github.com/vuejs/vue-cli/pull/4302" target="_blank" rel="noopener noreferrer">#4302<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> move dev configs into serve command</li></ul> <h4 id="for-sass-scss-users"><a href="#for-sass-scss-users" class="header-anchor">#</a> For SASS/SCSS Users</h4> <p>Previously in Vue CLI v3, we shipped with <code>sass-loader@7</code> by default.</p> <p>Recently <code>sass-loader@8</code> has been out and has changed its configuration format quite a lot. Here's the release notes: <a href="https://github.com/webpack-contrib/sass-loader/releases/tag/v8.0.0" target="_blank" rel="noopener noreferrer">https://github.com/webpack-contrib/sass-loader/releases/tag/v8.0.0<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><code>@vue/cli-service</code> will continue to support <code>sass-loader@7</code> in v4, but we strongly recommend you to take a look at the v8 release and upgrade to the latest version.</p> <h4 id="for-less-users"><a href="#for-less-users" class="header-anchor">#</a> For Less Users</h4> <p><code>less-loader</code> v4 is incompatible with <code>less</code> &gt;= v3.10, see <a href="https://github.com/less/less.js/issues/3414" target="_blank" rel="noopener noreferrer">https://github.com/less/less.js/issues/3414<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.
It's strongly recommended to upgrade to <code>less-loader@5</code> if your project depends on it.</p> <h4 id="for-css-module-users"><a href="#for-css-module-users" class="header-anchor">#</a> For CSS Module Users</h4> <ul><li><a href="https://github.com/vuejs/vue-cli/pull/4387" target="_blank" rel="noopener noreferrer">Deprecate <code>css.modules</code> in favor of <code>css.requireModuleExtension</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. This is because we've upgraded to <code>css-loader</code> v3 and the config format has been changed. For a more detailed explanation please follow the link.</li></ul> <h4 id="vue-config-js-options"><a href="#vue-config-js-options" class="header-anchor">#</a> <code>vue.config.js</code> options</h4> <p>The already-deprecated <a href="https://cli.vuejs.org/config/#baseurl" target="_blank" rel="noopener noreferrer"><code>baseUrl</code> option<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> is now <a href="https://github.com/vuejs/vue-cli/pull/4388" target="_blank" rel="noopener noreferrer">removed<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h4 id="chainwebpack-configurewebpack"><a href="#chainwebpack-configurewebpack" class="header-anchor">#</a> <code>chainWebpack</code> / <code>configureWebpack</code></h4> <h5 id="the-minimizer-method-in-chainwebpack"><a href="#the-minimizer-method-in-chainwebpack" class="header-anchor">#</a> The <code>minimizer</code> Method in <code>chainWebpack</code></h5> <p>If you've customized the internal rules with <code>chainWebpack</code>, please notice that <code>webpack-chain</code> was updated from v4 to v6, the most noticeable change is the <code>minimizer</code> config</p> <p>For example, if you want to enable the <code>drop_console</code> option in the terser plugin.
In v3, you may do this in <code>chainWebpack</code>:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> TerserPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'terser-webpack-plugin'</span><span class="token punctuation">)</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">chainWebpack</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">config</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    config<span class="token punctuation">.</span>optimization<span class="token punctuation">.</span><span class="token function">minimizer</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">TerserPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span> terserOptions<span class="token operator">:</span> <span class="token punctuation">{</span> compress<span class="token operator">:</span> <span class="token punctuation">{</span> drop_console<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>In v4, it's changed to:</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">chainWebpack</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">config</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    config<span class="token punctuation">.</span>optimization<span class="token punctuation">.</span><span class="token function">minimizer</span><span class="token punctuation">(</span><span class="token string">'terser'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">args</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      args<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>terserOptions<span class="token punctuation">.</span>compress<span class="token punctuation">.</span>drop_console <span class="token operator">=</span> <span class="token boolean">true</span>
      <span class="token keyword">return</span> args
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h5 id="other-changes"><a href="#other-changes" class="header-anchor">#</a> Other Changes</h5> <ul><li><a href="https://github.com/vuejs/vue-cli/pull/4230" target="_blank" rel="noopener noreferrer">The <code>pug-plain</code> rule was renamed to <code>pug-plain-loader</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h4 id="underlying-loaders-plugins"><a href="#underlying-loaders-plugins" class="header-anchor">#</a> Underlying Loaders / Plugins</h4> <p>Not likely to affect users unless you've customized their options via <code>chainWebpack</code> / <code>configureWebpack</code></p> <p><code>css-loader</code> was upgraded from v1 to v3:</p> <ul><li><a href="https://github.com/webpack-contrib/css-loader/releases/tag/v2.0.0" target="_blank" rel="noopener noreferrer">v2 changelog<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://github.com/webpack-contrib/css-loader/releases/tag/v3.0.0" target="_blank" rel="noopener noreferrer">v3 changelog<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <p>Several other underlying webpack loaders and plugins have been upgraded, with mostly trivial changes:</p> <ul><li><code>url-loader</code> <a href="https://github.com/webpack-contrib/url-loader/releases/tag/v2.0.0" target="_blank" rel="noopener noreferrer">from v1 to v2<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><code>file-loader</code> <a href="https://github.com/webpack-contrib/file-loader/releases/tag/v4.0.0" target="_blank" rel="noopener noreferrer">from v3 to v4<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><code>copy-webpack-plugin</code> <a href="https://github.com/webpack-contrib/copy-webpack-plugin/blob/master/CHANGELOG.md#500-2019-02-20" target="_blank" rel="noopener noreferrer">from v4 to v5<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><code>terser-webpack-plugin</code> <a href="https://github.com/vuejs/vue-cli/pull/4676" target="_blank" rel="noopener noreferrer">from v1 to v2<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h3 id="vue-cli-plugin-babel-vue-babel-preset-app"><a href="#vue-cli-plugin-babel-vue-babel-preset-app" class="header-anchor">#</a> <code>@vue/cli-plugin-babel</code>, <code>@vue/babel-preset-app</code></h3> <h4 id="core-js"><a href="#core-js" class="header-anchor">#</a> core-js</h4> <p>The babel plugin requires a peer dependency, for the polyfills used in the transpiled code.</p> <p>In Vue CLI v3, the required <code>core-js</code> version is 2.x, it is now upgraded to 3.x.</p> <p>This migration is automated if you upgrade it through <code>vue upgrade babel</code>. But if you have custom polyfills introduced, you may need to manually update the polyfill names (For more details, see <a href="https://github.com/zloirock/core-js/blob/master/CHANGELOG.md#L279-L297" target="_blank" rel="noopener noreferrer">core-js changelog<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>).</p> <h4 id="babel-preset"><a href="#babel-preset" class="header-anchor">#</a> Babel Preset</h4> <p>This migration is also automated if you upgrade it through <code>vue upgrade babel</code>.</p> <ul><li>In v3, the default babel preset used in <code>babel.config.js</code> is <code>@vue/app</code>.</li> <li>In v4, we moved it to the plugin, so now it's named as <code>@vue/cli-plugin-babel/preset</code></li></ul> <p>It is because that <code>@vue/babel-preset-app</code> is indeed an indirect dependency on the project.
It works because of npm's package hoisting.
But potential problems could still occur if the project has multiple conflicting indirect dependencies of the same package, or if the package manager puts stricter constraints on the dependency resolution (e.g. yarn plug'n'play or pnpm).
So we now moved it to the project's direct dependency (<code>@vue/cli-plugin-babel</code>) to make it more standard-compliant and less error-prone.</p> <hr> <h3 id="vue-cli-plugin-eslint"><a href="#vue-cli-plugin-eslint" class="header-anchor">#</a> <code>@vue/cli-plugin-eslint</code></h3> <p>This plugin now <a href="https://github.com/vuejs/vue-cli/pull/3852" target="_blank" rel="noopener noreferrer">requires ESLint as a peer dependency<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <p>This won't affect projects scaffolded with Vue CLI 3.1 or later.</p> <p>If your project was scaffolded with Vue CLI 3.0.x or earlier, you may need to add <code>eslint@4</code> to your project dependencies (This is automated if you upgrade the plugin using <code>vue upgrade eslint</code>).</p> <p>It's also recommended to upgrade your ESLint to v5, and ESLint config versions to the latest. (ESLint v6 support is still on the way)</p> <hr> <h4 id="the-prettier-preset"><a href="#the-prettier-preset" class="header-anchor">#</a> The Prettier Preset</h4> <p>The old implementation of our prettier preset is flawed. We've updated the default template since Vue CLI v3.10.</p> <p>It now requires <code>eslint</code>, <code>eslint-plugin-prettier</code> and <code>prettier</code> as peer dependencies, following the <a href="https://github.com/eslint/eslint/issues/3458" target="_blank" rel="noopener noreferrer">standard practice in the ESLint ecosystem<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <p>For older projects, if you encountered issues like <code>Cannot find module: eslint-plugin-prettier</code>, please run the following command to fix it:</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">npm</span> <span class="token function">install</span> --save-dev eslint@5 @vue/eslint-config-prettier@5 eslint-plugin-prettier prettier
</code></pre></div><hr> <h4 id="lintonsave-options"><a href="#lintonsave-options" class="header-anchor">#</a> <code>lintOnSave</code> options</h4> <p>(the following only affects development)</p> <p>The default value of <code>lintOnSave</code> option (when not specified) was <a href="https://github.com/vuejs/vue-cli/pull/3975" target="_blank" rel="noopener noreferrer">changed from <code>true</code> to <code>'default'</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. You can read more on the detailed explanation in the <a href="https://cli.vuejs.org/config/#lintonsave" target="_blank" rel="noopener noreferrer">documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <p>In a nutshell:</p> <ul><li>In v3, by default, lint warnings, along with errors, will be displayed in the error overlay</li> <li>In v4, by default, only lint errors will interrupt your development process. Warnings are only logged in the terminal console.</li></ul> <h3 id="vue-cli-plugin-pwa"><a href="#vue-cli-plugin-pwa" class="header-anchor">#</a> <code>@vue/cli-plugin-pwa</code></h3> <p>The underlying workbox-webpack-plugin has been upgraded from v3 to v4. See <a href="https://github.com/GoogleChrome/workbox/releases/tag/v4.0.0" target="_blank" rel="noopener noreferrer">the release notes here<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <p>There's also a <code>pwa.manifestOptions</code> field available (you can set it in the <code>vue.config.js</code>). With this new option, <code>manifest.json</code> will be generated from the config object rather than directly copied from the <code>public</code> folder. This provides a more consistent interface to manage your PWA configurations. (Note, it is an opt-in feature. Related PRs: <a href="https://github.com/vuejs/vue-cli/pull/2981" target="_blank" rel="noopener noreferrer">#2981<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, <a href="https://github.com/vuejs/vue-cli/pull/4664" target="_blank" rel="noopener noreferrer">#4664<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>)</p> <h3 id="vue-cli-plugin-e2e-cypress"><a href="#vue-cli-plugin-e2e-cypress" class="header-anchor">#</a> <code>@vue/cli-plugin-e2e-cypress</code></h3> <p>Before Vue CLI v3.0.0-beta.10, the default command for E2E testing was <code>vue-cli-service e2e</code>. Later we changed it to <code>vue-cli-service test:e2e</code>. The previous command was since deprecated but still supported.
We have now completely <a href="https://github.com/vuejs/vue-cli/pull/3774" target="_blank" rel="noopener noreferrer">dropped support for this legacy command<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h3 id="vue-cli-plugin-e2e-nightwatch"><a href="#vue-cli-plugin-e2e-nightwatch" class="header-anchor">#</a> <code>@vue/cli-plugin-e2e-nightwatch</code></h3> <p>Nightwatch.js has been upgraded from 0.9 to 1.x. Be sure to read the <a href="https://github.com/nightwatchjs/nightwatch/wiki/Migrating-to-Nightwatch-1.0" target="_blank" rel="noopener noreferrer">Nightwatch migration guides<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> first.</p> <p>The bundled config and generated tests <a href="https://github.com/vuejs/vue-cli/pull/4541" target="_blank" rel="noopener noreferrer">have been completely overhauled<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. Please follow the link for more details. Most use cases in Vue CLI v3 are still supported. They are just new features.</p> <p>As ChromeDriver has changed its version strategy since version 73, we've made it a peer dependency in the project.
A simple browser version check is implemented in the plugin, so if you've upgraded to an incompatible version of Chrome, there will be a warning to prompt you to upgrade the depended ChromeDriver version.</p> <hr> <p>As in the cypress plugin, the support for legacy <code>vue-cli-service e2e</code> command has also been removed.</p> <h3 id="vue-cli-plugin-typescript"><a href="#vue-cli-plugin-typescript" class="header-anchor">#</a> <code>@vue/cli-plugin-typescript</code></h3> <p>When importing a file without extension, the webpack resolve options now <a href="https://github.com/vuejs/vue-cli/pull/3909" target="_blank" rel="noopener noreferrer">prefer <code>.ts(x)</code> files over <code>.js(x)</code> and <code>.vue</code> ones<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. We strongly recommend you to always include the file extension when importing <code>.vue</code> files.</p> <h3 id="vue-cli-plugin-unit-jest"><a href="#vue-cli-plugin-unit-jest" class="header-anchor">#</a> <code>@vue/cli-plugin-unit-jest</code></h3> <p>We've upgraded the bundled Jest from v23 to v24, so please read their <a href="https://jestjs.io/blog/2019/01/25/jest-24-refreshing-polished-typescript-friendly" target="_blank" rel="noopener noreferrer">release notes<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> first.
Follow <a href="https://github.com/facebook/jest/blob/20ba4be9499d50ed0c9231b86d4a64ec8a6bd303/CHANGELOG.md#user-content-2400" target="_blank" rel="noopener noreferrer">this link<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> for the full changelog.</p> <p>The <code>unit-jest</code> plugin now comes with 4 configuration presets:</p> <ul><li><code>@vue/cli-plugin-unit-jest</code> The default preset for the most common type of projects</li> <li><code>@vue/cli-plugin-unit-jest/presets/no-babel</code> If you don't have <code>@vue/cli-plugin-babel</code> installed and don't want to see babel files in the project</li> <li><code>@vue/cli-plugin-unit-jest/presets/typescript</code> The preset with TypeScript support (but no TSX support)</li> <li><code>@vue/cli-plugin-unit-jest/presets/typescript-and-babel</code> The preset with TypeScript (and TSX) and babel support.</li></ul> <p>If you haven't changed the default Jest configurations (lies in either <code>jest.config.js</code> or the <code>jest</code> field in <code>package.json</code>) ever since project creation, you can now replace the massive configuration object with one single field:</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// Replace the following preset name with the one you want to use from the above list</span>
  preset<span class="token operator">:</span> <span class="token string">'@vue/cli-plugin-unit-jest'</span>
<span class="token punctuation">}</span>
</code></pre></div><p>(the <code>ts-jest</code>, <code>babel-jest</code> dependencies can also be removed after migrating config to use presets)</p> <div class="custom-block tip"><p class="custom-block-title">A Reminder</p> <p>The default test environment in the new presets is jsdom@15, which differs from the default one in Jest 24 (jsdom@11).
This is to be aligned with the upcoming Jest 25 updates.
Most users won't be affected by this change.
For a detailed changelog with regard to jsdom, see <a href="https://github.com/jsdom/jsdom/blob/master/Changelog.md" target="_blank" rel="noopener noreferrer">https://github.com/jsdom/jsdom/blob/master/Changelog.md<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></div> <h3 id="vue-cli-plugin-unit-mocha"><a href="#vue-cli-plugin-unit-mocha" class="header-anchor">#</a> <code>@vue/cli-plugin-unit-mocha</code></h3> <ul><li>Use mochapack instead of mocha-webpack, see changelog at <a href="https://github.com/sysgears/mochapack/releases" target="_blank" rel="noopener noreferrer">https://github.com/sysgears/mochapack/releases<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. This change is not likely to affect actual usage.</li> <li>Upgraded to mocha 6, see <a href="https://github.com/mochajs/mocha/blob/master/CHANGELOG.md#600-0--2019-01-01" target="_blank" rel="noopener noreferrer">Mocha's changelog<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> for more details.</li></ul> <h3 id="vue-cli-service-global"><a href="#vue-cli-service-global" class="header-anchor">#</a> <code>@vue/cli-service-global</code></h3> <p>See breaking changes in the <a href="#vue-cli-service"><code>@vue/cli-service</code></a> &amp; <a href="#vue-cli-plugin-eslint"><code>@vue/cli-plugin-eslint</code></a> packages.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/vuejs/vue-cli/edit/master/docs/migrating-from-v3/README.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">1/14/2020, 1:58:20 AM</span></div></footer> <!----> <div class="bsa-cpc-wrapper"><div class="bsa-cpc"></div></div></main></div><div class="global-ui"><!----></div></div>
    <script src="../assets/js/app.3a83c7af.js" defer></script><script src="../assets/js/3.ec443443.js" defer></script><script src="../assets/js/41.685e0683.js" defer></script><script src="../assets/js/4.cec72248.js" defer></script>
  </body>
</html>
