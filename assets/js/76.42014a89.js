(window.webpackJsonp=window.webpackJsonp||[]).push([[76],{441:function(e,t,a){"use strict";a.r(t);var s=a(46),r=Object(s.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"миграция-с-версии-v3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#миграция-с-версии-v3"}},[e._v("#")]),e._v(" Миграция с версии v3")]),e._v(" "),a("p",[e._v("Для начала глобально установите последнюю версию Vue CLI:")]),e._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" -g @vue/cli\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# ИЛИ")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("yarn")]),e._v(" global "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("add")]),e._v(" @vue/cli\n")])])]),a("h2",{attrs:{id:"обновnение-всех-пnагинов-сразу"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#обновnение-всех-пnагинов-сразу"}},[e._v("#")]),e._v(" Обновление всех плагинов сразу")]),e._v(" "),a("p",[e._v("В существующих проектах запустите команду:")]),e._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[e._v("vue upgrade\n")])])]),a("p",[e._v("После чего ознакомьтесь со следующим разделом с информацией о крупных изменениях (breaking changes) в каждом пакете.")]),e._v(" "),a("hr"),e._v(" "),a("h2",{attrs:{id:"миграция-вручную-по-одному-пакету"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#миграция-вручную-по-одному-пакету"}},[e._v("#")]),e._v(" Миграция вручную по одному пакету")]),e._v(" "),a("p",[e._v("При желании выполнить миграцию постепенно и вручную несколько советов:")]),e._v(" "),a("h3",{attrs:{id:"гnобаnьный-пакет-vue-cli"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#гnобаnьный-пакет-vue-cli"}},[e._v("#")]),e._v(" Глобальный пакет "),a("code",[e._v("@vue/cli")])]),e._v(" "),a("h4",{attrs:{id:"переработана-команда-vue-upgrade"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#переработана-команда-vue-upgrade"}},[e._v("#")]),e._v(" "),a("a",{attrs:{href:"https://github.com/vuejs/vue-cli/pull/4090",target:"_blank",rel:"noopener noreferrer"}},[e._v("Переработана команда"),a("OutboundLink")],1),e._v(" "),a("code",[e._v("vue upgrade")])]),e._v(" "),a("ul",[a("li",[e._v("Было: "),a("code",[e._v("vue upgrade [patch | minor | major]")]),e._v(" — выполняла только установку последних версий плагинов Vue CLI.")]),e._v(" "),a("li",[e._v("Стало: "),a("code",[e._v("vue upgrade [plugin-name]")]),e._v(" — кроме обновления плагинов, запускает миграции из них для автоматизации процесса обновления. Для получения информации о дополнительных опциях этой команды выполните "),a("code",[e._v("vue upgrade --help")]),e._v(".")])]),e._v(" "),a("h4",{attrs:{id:"изменён-формат-вывода-vue-version"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#изменён-формат-вывода-vue-version"}},[e._v("#")]),e._v(" Изменён формат вывода "),a("code",[e._v("vue --version")])]),e._v(" "),a("p",[e._v("При запуске "),a("code",[e._v("vue --version")]),e._v(":")]),e._v(" "),a("ul",[a("li",[e._v("3.x: выводит "),a("code",[e._v("3.12.0")])]),e._v(" "),a("li",[e._v("4.x: выводит "),a("code",[e._v("@vue/cli 4.0.0")])])]),e._v(" "),a("h4",{attrs:{id:"добавnен-допоnнитеnьный-шаг-подтверждения-во-избежание-перезаписи"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#добавnен-допоnнитеnьный-шаг-подтверждения-во-избежание-перезаписи"}},[e._v("#")]),e._v(" Добавлен дополнительный шаг подтверждения во избежание перезаписи")]),e._v(" "),a("p",[e._v("При запуске "),a("code",[e._v("vue invoke")]),e._v(" / "),a("code",[e._v("vue add")]),e._v(" / "),a("code",[e._v("vue upgrade")]),e._v(" теперь появляется "),a("a",{attrs:{href:"https://github.com/vuejs/vue-cli/pull/4275",target:"_blank",rel:"noopener noreferrer"}},[e._v("дополнительный шаг подтверждения"),a("OutboundLink")],1),e._v(" при наличии незафиксированных изменений в текущем репозитории.")]),e._v(" "),a("p",[a("img",{attrs:{src:"https://user-images.githubusercontent.com/3277634/65588457-23db5a80-dfba-11e9-9899-9dd72efc111e.png",alt:"image"}})]),e._v(" "),a("h4",{attrs:{id:"vue-router-и-vuex-теперь-имеют-сопутствующие-cli-пnагины"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vue-router-и-vuex-теперь-имеют-сопутствующие-cli-пnагины"}},[e._v("#")]),e._v(" Vue Router и Vuex теперь имеют сопутствующие CLI-плагины")]),e._v(" "),a("p",[e._v("При запуске "),a("code",[e._v("vue add vuex")]),e._v(" или "),a("code",[e._v("vue add router")]),e._v(":")]),e._v(" "),a("ul",[a("li",[e._v("В версии 3, только "),a("code",[e._v("vuex")]),e._v(" или "),a("code",[e._v("vue-router")]),e._v(" добавляется в проект;")]),e._v(" "),a("li",[e._v("В версии 4, также устанавливается "),a("code",[e._v("@vue/cli-plugin-vuex")]),e._v(" или "),a("code",[e._v("@vue/cli-plugin-router")]),e._v(".")])]),e._v(" "),a("p",[e._v("В настоящее время это не привносит ничего особенного для конечных пользователей, но такой подход позволяет добавлять больше возможностей для пользователей Vuex и Vue Router позднее.")]),e._v(" "),a("p",[e._v("Для разработчиков пресетов и плагинов есть ещё несколько изменений в этих двух плагинах:")]),e._v(" "),a("ul",[a("li",[e._v("Структура каталогов по умолчанию изменена:\n"),a("ul",[a("li",[a("code",[e._v("src/store.js")]),e._v(" перемещён в "),a("code",[e._v("src/store/index.js")]),e._v(";")]),e._v(" "),a("li",[a("code",[e._v("src/router.js")]),e._v(" перемещён в "),a("code",[e._v("src/router/index.js")]),e._v(";")])])]),e._v(" "),a("li",[e._v("Опции "),a("code",[e._v("router")]),e._v(" и "),a("code",[e._v("routerHistoryMode")]),e._v(" в файле "),a("code",[e._v("preset.json")]),e._v(" по-прежнему поддерживаются для совместимости. Но рекомендуется использовать "),a("code",[e._v("plugins: { '@vue/cli-plugin-router': { historyMode: true } }")]),e._v(" для консистентности.")]),e._v(" "),a("li",[a("code",[e._v("api.hasPlugin('vue-router')")]),e._v(" больше не поддерживается. Теперь "),a("code",[e._v("api.hasPlugin('router')")]),e._v(".")])]),e._v(" "),a("h3",{attrs:{id:"vue-cli-service"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vue-cli-service"}},[e._v("#")]),e._v(" "),a("code",[e._v("@vue/cli-service")])]),e._v(" "),a("h4",{attrs:{id:"обработка-пробеnов-в-шабnонах"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#обработка-пробеnов-в-шабnонах"}},[e._v("#")]),e._v(" Обработка пробелов в шаблонах")]),e._v(" "),a("p",[e._v("Во Vue CLI v3 для уменьшения размеров итоговой сборки по умолчанию отключена опция "),a("code",[e._v("preserveWhitespace")]),e._v(" для "),a("code",[e._v("vue-template-compiler")]),e._v(".")]),e._v(" "),a("p",[e._v("Однако это привносило свои тонкости использования.")]),e._v(" "),a("p",[e._v("Но после релиза Vue 2.6 теперь можно управлять обработкой пробелов с помощью "),a("a",{attrs:{href:"https://github.com/vuejs/vue/issues/9208#issuecomment-450012518",target:"_blank",rel:"noopener noreferrer"}},[e._v("новой опции "),a("code",[e._v("whitespace")]),a("OutboundLink")],1),e._v(". Поэтому во Vue CLI v4 перешли на использование этой новой опции по умолчанию.")]),e._v(" "),a("p",[e._v("Возьмём в качестве примера следующий шаблон:")]),e._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("p")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n  Welcome to "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("b")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("Vue.js"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("</")]),e._v("b")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v(" "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("i")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("world"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("</")]),e._v("i")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v(".\n  Have fun!\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("</")]),e._v("p")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n")])])]),a("p",[e._v("С опцией "),a("code",[e._v("preserveWhitespace: false")]),e._v(" все пробелы между тегами будут удалены, поэтому он скомпилируется в:")]),e._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("p")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v(" Welcome to "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("b")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("Vue.js"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("</")]),e._v("b")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("i")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("world"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("</")]),e._v("i")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v(". Have fun! "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("</")]),e._v("p")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n")])])]),a("p",[e._v("С опцией "),a("code",[e._v("whitespace: 'condense'")]),e._v(" он скомпилируется в:")]),e._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("p")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v(" Welcome to "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("b")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("Vue.js"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("</")]),e._v("b")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v(" "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("i")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("world"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("</")]),e._v("i")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v(". Have fun! "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("</")]),e._v("p")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n")])])]),a("p",[e._v("Обратите внимание, что теперь сохраняется "),a("strong",[e._v("инлайновый")]),e._v(" пробел между тегами.")]),e._v(" "),a("h4",{attrs:{id:"vue-cli-service-build-mode-development"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vue-cli-service-build-mode-development"}},[e._v("#")]),e._v(" "),a("code",[e._v("vue-cli-service build --mode development")])]),e._v(" "),a("p",[e._v("Раньше при запуске команды "),a("code",[e._v("build")]),e._v(" в режиме "),a("code",[e._v("development")]),e._v(" расположение каталога "),a("code",[e._v("dist")]),e._v(" отличалось от расположения в режиме "),a("code",[e._v("production")]),e._v(". Теперь, с учётом указанных ниже двух пулл-реквестов, структура и расположение каталогов будет во всех режимах одинакова (имена файлов всё ещё различаются — никаких хэшей в режиме "),a("code",[e._v("development")]),e._v("):")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/vuejs/vue-cli/pull/4323",target:"_blank",rel:"noopener noreferrer"}},[e._v("#4323"),a("OutboundLink")],1),e._v(" ensure consistent directory structure for all modes")]),e._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/vuejs/vue-cli/pull/4302",target:"_blank",rel:"noopener noreferrer"}},[e._v("#4302"),a("OutboundLink")],1),e._v(" move dev configs into serve command")])]),e._v(" "),a("h4",{attrs:{id:"дnя-поnьзоватеnей-sass-scss"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#дnя-поnьзоватеnей-sass-scss"}},[e._v("#")]),e._v(" Для пользователей SASS/SCSS")]),e._v(" "),a("p",[e._v("Раньше во Vue CLI v3 использовался "),a("code",[e._v("sass-loader@7")]),e._v(" по умолчанию.")]),e._v(" "),a("p",[e._v("Недавно вышел "),a("code",[e._v("sass-loader@8")]),e._v(" в котором довольно сильно изменился формат конфигурации. Примечания к релизу: "),a("a",{attrs:{href:"https://github.com/webpack-contrib/sass-loader/releases/tag/v8.0.0",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://github.com/webpack-contrib/sass-loader/releases/tag/v8.0.0"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("code",[e._v("@vue/cli-service")]),e._v(" продолжает поддерживать "),a("code",[e._v("sass-loader@7")]),e._v(" в v4, но настоятельно рекомендуем обратить внимание на релиз "),a("code",[e._v("sass-loader@8")]),e._v(" и обновиться до последней версии.")]),e._v(" "),a("h4",{attrs:{id:"дnя-поnьзоватеnей-less"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#дnя-поnьзоватеnей-less"}},[e._v("#")]),e._v(" Для пользователей Less")]),e._v(" "),a("p",[a("code",[e._v("less-loader")]),e._v(" v4 несовместим с "),a("code",[e._v("less")]),e._v(" >= v3.10, см. "),a("a",{attrs:{href:"https://github.com/less/less.js/issues/3414",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://github.com/less/less.js/issues/3414"),a("OutboundLink")],1),e._v(".\nНастоятельно рекомендуем обновиться до "),a("code",[e._v("less-loader@5")]),e._v(", если в проекте используется Less.")]),e._v(" "),a("h4",{attrs:{id:"дnя-поnьзоватеnей-css-модуnей"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#дnя-поnьзоватеnей-css-модуnей"}},[e._v("#")]),e._v(" Для пользователей CSS модулей")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/vuejs/vue-cli/pull/4387",target:"_blank",rel:"noopener noreferrer"}},[e._v("Устаревшая опция "),a("code",[e._v("css.modules")]),e._v(" заменена на "),a("code",[e._v("css.requireModuleExtension")]),a("OutboundLink")],1),e._v(". Это связано с обновлением "),a("code",[e._v("css-loader")]),e._v(" до v3 и изменением формата конфигурации. С подробным объяснением можно ознакомиться по ссылке.")])]),e._v(" "),a("h4",{attrs:{id:"настройки-vue-config-js"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#настройки-vue-config-js"}},[e._v("#")]),e._v(" Настройки "),a("code",[e._v("vue.config.js")])]),e._v(" "),a("p",[e._v("Уже объявленная как устаревшая "),a("RouterLink",{attrs:{to:"/ru/config/#baseurl"}},[e._v("опция "),a("code",[e._v("baseUrl")])]),e._v(" теперь "),a("a",{attrs:{href:"https://github.com/vuejs/vue-cli/pull/4388",target:"_blank",rel:"noopener noreferrer"}},[e._v("удалена"),a("OutboundLink")],1),e._v(".")],1),e._v(" "),a("h4",{attrs:{id:"chainwebpack-configurewebpack"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#chainwebpack-configurewebpack"}},[e._v("#")]),e._v(" "),a("code",[e._v("chainWebpack")]),e._v(" / "),a("code",[e._v("configureWebpack")])]),e._v(" "),a("h5",{attrs:{id:"метод-minimizer-в-chainwebpack"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#метод-minimizer-в-chainwebpack"}},[e._v("#")]),e._v(" Метод "),a("code",[e._v("minimizer")]),e._v(" в "),a("code",[e._v("chainWebpack")])]),e._v(" "),a("p",[e._v("Если настраивали правила через "),a("code",[e._v("chainWebpack")]),e._v(", то обратите внимание, что "),a("code",[e._v("webpack-chain")]),e._v(" обновлён с версии v4 до v6. Наиболее заметным изменением является конфигурация "),a("code",[e._v("minimizer")]),e._v(".")]),e._v(" "),a("p",[e._v("Например, если необходимо включить опцию "),a("code",[e._v("drop_console")]),e._v(" в плагине terser.\nВ версии v3 это можно сделать через "),a("code",[e._v("chainWebpack")]),e._v(" так:")]),e._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("const")]),e._v(" TerserPlugin "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'terser-webpack-plugin'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[e._v("chainWebpack")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[e._v("config")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=>")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("optimization"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("minimizer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("new")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[e._v("TerserPlugin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v(" terserOptions"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v(" compress"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v(" drop_console"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[e._v("true")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),a("p",[e._v("В версии v4 необходимо изменить таким образом:")]),e._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[e._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[e._v("chainWebpack")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[e._v("config")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=>")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("optimization"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("minimizer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'terser'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("tap")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[e._v("args")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=>")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n      args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("terserOptions"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("compress"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("drop_console "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[e._v("true")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("return")]),e._v(" args\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),a("h5",{attrs:{id:"другие-изменения"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#другие-изменения"}},[e._v("#")]),e._v(" Другие изменения")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/vuejs/vue-cli/pull/4230",target:"_blank",rel:"noopener noreferrer"}},[e._v("Правило "),a("code",[e._v("pug-plain")]),e._v(" переименовано в "),a("code",[e._v("pug-plain-loader")]),a("OutboundLink")],1)])]),e._v(" "),a("h4",{attrs:{id:"базовые-загрузчики-пnагины"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#базовые-загрузчики-пnагины"}},[e._v("#")]),e._v(" Базовые загрузчики / плагины")]),e._v(" "),a("p",[e._v("Скорее всего это вряд ли повлияет на пользователей, если не настраивали опции через "),a("code",[e._v("chainWebpack")]),e._v(" / "),a("code",[e._v("configureWebpack")])]),e._v(" "),a("p",[a("code",[e._v("css-loader")]),e._v(" был обновлён с версии v1 до v3:")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/webpack-contrib/css-loader/releases/tag/v2.0.0",target:"_blank",rel:"noopener noreferrer"}},[e._v("История изменений v2"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/webpack-contrib/css-loader/releases/tag/v3.0.0",target:"_blank",rel:"noopener noreferrer"}},[e._v("История изменений v3"),a("OutboundLink")],1)])]),e._v(" "),a("p",[e._v("Несколько базовых загрузчиков и плагинов webpack обновлены, с незначительными изменениями:")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("url-loader")]),e._v(" "),a("a",{attrs:{href:"https://github.com/webpack-contrib/url-loader/releases/tag/v2.0.0",target:"_blank",rel:"noopener noreferrer"}},[e._v("с версии v1 до v2"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("code",[e._v("file-loader")]),e._v(" "),a("a",{attrs:{href:"https://github.com/webpack-contrib/file-loader/releases/tag/v4.0.0",target:"_blank",rel:"noopener noreferrer"}},[e._v("с версии v3 до v4"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("code",[e._v("copy-webpack-plugin")]),e._v(" "),a("a",{attrs:{href:"https://github.com/webpack-contrib/copy-webpack-plugin/blob/master/CHANGELOG.md#500-2019-02-20",target:"_blank",rel:"noopener noreferrer"}},[e._v("с версии v4 до v5"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("code",[e._v("terser-webpack-plugin")]),e._v(" "),a("a",{attrs:{href:"https://github.com/vuejs/vue-cli/pull/4676",target:"_blank",rel:"noopener noreferrer"}},[e._v("с версии v1 до v2"),a("OutboundLink")],1)])]),e._v(" "),a("h3",{attrs:{id:"vue-cli-plugin-babel-vue-babel-preset-app"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vue-cli-plugin-babel-vue-babel-preset-app"}},[e._v("#")]),e._v(" "),a("code",[e._v("@vue/cli-plugin-babel")]),e._v(", "),a("code",[e._v("@vue/babel-preset-app")])]),e._v(" "),a("h4",{attrs:{id:"core-js"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#core-js"}},[e._v("#")]),e._v(" core-js")]),e._v(" "),a("p",[e._v("Требуется плагину babel в качестве peer-зависимости для полифилов, используемых в транспилированном коде.")]),e._v(" "),a("p",[e._v("Во Vue CLI v3 использовалась "),a("code",[e._v("core-js")]),e._v(" версии 2.x, теперь она обновлена до 3.x.")]),e._v(" "),a("p",[e._v("Эта миграция автоматизирована, достаточно выполнить команду "),a("code",[e._v("vue upgrade babel")]),e._v(". Но если добавлялись пользовательские полифилы, может потребоваться обновить имена полифилов (подробную информацию можно найти в "),a("a",{attrs:{href:"https://github.com/zloirock/core-js/blob/master/CHANGELOG.md#L279-L297",target:"_blank",rel:"noopener noreferrer"}},[e._v("истории изменений core-js"),a("OutboundLink")],1),e._v(").")]),e._v(" "),a("h4",{attrs:{id:"пресет-babel"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#пресет-babel"}},[e._v("#")]),e._v(" Пресет Babel")]),e._v(" "),a("p",[e._v("Эта миграция также автоматизирована, при обновлении командой "),a("code",[e._v("vue upgrade babel")]),e._v(".")]),e._v(" "),a("ul",[a("li",[e._v("В версии v3, babel пресет по умолчанию в "),a("code",[e._v("babel.config.js")]),e._v(" был "),a("code",[e._v("@vue/app")]),e._v(".")]),e._v(" "),a("li",[e._v("В версии v4, пресет перемещён в плагин и теперь называется "),a("code",[e._v("@vue/cli-plugin-babel/preset")])])]),e._v(" "),a("p",[e._v("Необходимость этого в том, что "),a("code",[e._v("@vue/babel-preset-app")]),e._v(" в действительности является косвенной зависимостью проекта. Это работает благодаря «поднятию» (hoisting) npm-пакета. Однако может стать причиной потенциальных проблем, если у проекта несколько косвенных зависимостей одного и того же пакета, или если менеджер пакетов накладывает более строгие ограничения при разрешении зависимостей (например, yarn plug'n'play или pnpm). Поэтому он вынесен отдельной зависимостью проекта ("),a("code",[e._v("@vue/cli-plugin-babel")]),e._v(") для большей совместимости со стандартами и меньшей подверженности ошибкам.")]),e._v(" "),a("hr"),e._v(" "),a("h3",{attrs:{id:"vue-cli-plugin-eslint"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vue-cli-plugin-eslint"}},[e._v("#")]),e._v(" "),a("code",[e._v("@vue/cli-plugin-eslint")])]),e._v(" "),a("p",[e._v("Плагин теперь "),a("a",{attrs:{href:"https://github.com/vuejs/vue-cli/pull/3852",target:"_blank",rel:"noopener noreferrer"}},[e._v("требует ESLint в качестве peer-зависимости"),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("p",[e._v("Это не повлияет на проекты, созданные с помощью Vue CLI 3.1 или более поздних версий.")]),e._v(" "),a("p",[e._v("Если проект был создан с помощью Vue CLI 3.0.x или более ранних версий, то потребуется добавить "),a("code",[e._v("eslint@4")]),e._v(" к зависимостям проекта (это автоматизированно при обновлении плагина с помощью команды "),a("code",[e._v("vue upgrade eslint")]),e._v(").")]),e._v(" "),a("p",[e._v("Также рекомендуется обновить ESLint до версии v5, а конфигурацию ESLint до последней версии (поддержка ESLint v6 будет добавлена в ближайшем будущем).")]),e._v(" "),a("hr"),e._v(" "),a("h4",{attrs:{id:"пресет-prettier"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#пресет-prettier"}},[e._v("#")]),e._v(" Пресет Prettier")]),e._v(" "),a("p",[e._v("Старая реализация пресета prettier была несовершенной. Шаблон по умолчанию обновлён с версии Vue CLI v3.10.")]),e._v(" "),a("p",[e._v("Теперь требуются "),a("code",[e._v("eslint")]),e._v(", "),a("code",[e._v("eslint-plugin-prettier")]),e._v(" и "),a("code",[e._v("prettier")]),e._v(" в качестве peer-зависимостей, следуя "),a("a",{attrs:{href:"https://github.com/eslint/eslint/issues/3458",target:"_blank",rel:"noopener noreferrer"}},[e._v("стандартным практикам экосистемы ESLint"),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("p",[e._v("В старых проектах при возникновении проблем как "),a("code",[e._v("Cannot find module: eslint-plugin-prettier")]),e._v(" необходимо выполнить следующую команду для их исправления:")]),e._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" --save-dev eslint@5 @vue/eslint-config-prettier@5 eslint-plugin-prettier prettier\n")])])]),a("hr"),e._v(" "),a("h4",{attrs:{id:"настройки-lintonsave"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#настройки-lintonsave"}},[e._v("#")]),e._v(" Настройки "),a("code",[e._v("lintOnSave")])]),e._v(" "),a("p",[e._v("(затрагивает только процесс разработки)")]),e._v(" "),a("p",[e._v("Значение по умолчанию для опции "),a("code",[e._v("lintOnSave")]),e._v(" (если не было указано) "),a("a",{attrs:{href:"https://github.com/vuejs/vue-cli/pull/3975",target:"_blank",rel:"noopener noreferrer"}},[e._v("изменено с "),a("code",[e._v("true")]),e._v(" на "),a("code",[e._v("'default'")]),a("OutboundLink")],1),e._v(". Ознакомиться с подробным объяснением можно "),a("RouterLink",{attrs:{to:"/ru/config/#lintonsave"}},[e._v("в документации")]),e._v(".")],1),e._v(" "),a("p",[e._v("Вкратце:")]),e._v(" "),a("ul",[a("li",[e._v("В версии v3, по умолчанию, предупреждения линтинга и ошибки отображаются в браузере в слое для ошибок поверх приложения.")]),e._v(" "),a("li",[e._v("В версии v4, по умолчанию, только ошибки линтинга будут таким образом прерывать процесс разработки. Предупреждения будут отображаться в консоли терминала.")])]),e._v(" "),a("h3",{attrs:{id:"vue-cli-plugin-pwa"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vue-cli-plugin-pwa"}},[e._v("#")]),e._v(" "),a("code",[e._v("@vue/cli-plugin-pwa")])]),e._v(" "),a("p",[e._v("Базовый плагин workbox-webpack-plugin обновлён с версии v3 до v4. См. "),a("a",{attrs:{href:"https://github.com/GoogleChrome/workbox/releases/tag/v4.0.0",target:"_blank",rel:"noopener noreferrer"}},[e._v("примечания к релизу"),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("p",[e._v("Теперь доступно поле "),a("code",[e._v("pwa.manifestOptions")]),e._v(" (его можно указать в файле "),a("code",[e._v("vue.config.js")]),e._v("). Благодаря этой опции можно сгенерировать "),a("code",[e._v("manifest.json")]),e._v(" из объекта конфигурации, а не копировать из каталога "),a("code",[e._v("public")]),e._v(". Это обеспечивает более консистентный интерфейс управления конфигурацией PWA (Обратите внимание, что это опциональная возможность. Связанные пулл-реквесты: "),a("a",{attrs:{href:"https://github.com/vuejs/vue-cli/pull/2981",target:"_blank",rel:"noopener noreferrer"}},[e._v("#2981"),a("OutboundLink")],1),e._v(", "),a("a",{attrs:{href:"https://github.com/vuejs/vue-cli/pull/4664",target:"_blank",rel:"noopener noreferrer"}},[e._v("#4664"),a("OutboundLink")],1),e._v(").")]),e._v(" "),a("h3",{attrs:{id:"vue-cli-plugin-e2e-cypress"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vue-cli-plugin-e2e-cypress"}},[e._v("#")]),e._v(" "),a("code",[e._v("@vue/cli-plugin-e2e-cypress")])]),e._v(" "),a("p",[e._v("До Vue CLI v3.0.0-beta.10 команда для E2E-тестирования по умолчанию была "),a("code",[e._v("vue-cli-service e2e")]),e._v(". Позднее изменена на "),a("code",[e._v("vue-cli-service test:e2e")]),e._v(". Предыдущая команда объявлена устаревшей, но всё ещё поддерживалась. Теперь "),a("a",{attrs:{href:"https://github.com/vuejs/vue-cli/pull/3774",target:"_blank",rel:"noopener noreferrer"}},[e._v("поддержка старой команды удалена"),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("h3",{attrs:{id:"vue-cli-plugin-e2e-nightwatch"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vue-cli-plugin-e2e-nightwatch"}},[e._v("#")]),e._v(" "),a("code",[e._v("@vue/cli-plugin-e2e-nightwatch")])]),e._v(" "),a("p",[e._v("Nightwatch.js обновлён с версии 0.9 до 1.x. Рекомендуем сначала изучить "),a("a",{attrs:{href:"https://github.com/nightwatchjs/nightwatch/wiki/Migrating-to-Nightwatch-1.0",target:"_blank",rel:"noopener noreferrer"}},[e._v("руководство по миграции Nightwatch"),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("p",[e._v("Поставляемая в комплекте конфигурация и генерируемые тесты "),a("a",{attrs:{href:"https://github.com/vuejs/vue-cli/pull/4541",target:"_blank",rel:"noopener noreferrer"}},[e._v("были полностью переработаны"),a("OutboundLink")],1),e._v(". Перейдите по ссылке для получения более подробной информации. Большинство используемых кейсов во Vue CLI v3 по-прежнему поддерживаются. Это просто добавление новых возможностей.")]),e._v(" "),a("p",[e._v("Поскольку ChromeDriver изменил свою стратегию версионирования с 73-й версии, теперь он сделан peer-зависимостью проекта. В плагине реализована простая проверка версии браузера, поэтому при обновлении до несовместимой версии Chrome появится предупреждение с предложением обновить до соответствующей версии и ChromeDriver.")]),e._v(" "),a("hr"),e._v(" "),a("p",[e._v("Аналогично плагину для cypress, поддержка устаревшей команды "),a("code",[e._v("vue-cli-service e2e")]),e._v(" удалена.")]),e._v(" "),a("h3",{attrs:{id:"vue-cli-plugin-typescript"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vue-cli-plugin-typescript"}},[e._v("#")]),e._v(" "),a("code",[e._v("@vue/cli-plugin-typescript")])]),e._v(" "),a("p",[e._v("При импорте файла без расширения, настройки webpack по разрешению модулей теперь "),a("a",{attrs:{href:"https://github.com/vuejs/vue-cli/pull/3909",target:"_blank",rel:"noopener noreferrer"}},[e._v("отдают предпочтение файлам с расширениями "),a("code",[e._v("ts(x)")]),e._v(" вместо "),a("code",[e._v("js(x)")]),e._v(" и "),a("code",[e._v(".vue")]),a("OutboundLink")],1),e._v(". Настоятельно рекомендуется всегда указывать расширение файла при импорте "),a("code",[e._v(".vue")]),e._v(" файлов.")]),e._v(" "),a("h3",{attrs:{id:"vue-cli-plugin-unit-jest"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vue-cli-plugin-unit-jest"}},[e._v("#")]),e._v(" "),a("code",[e._v("@vue/cli-plugin-unit-jest")])]),e._v(" "),a("p",[e._v("Обновлён Jest с версии v23 до v24, поэтому рекомендуем сначала изучить "),a("a",{attrs:{href:"https://jestjs.io/blog/2019/01/25/jest-24-refreshing-polished-typescript-friendly",target:"_blank",rel:"noopener noreferrer"}},[e._v("примечания к релизу"),a("OutboundLink")],1),e._v(". А также, при необходимости, ознакомиться с "),a("a",{attrs:{href:"https://github.com/facebook/jest/blob/20ba4be9499d50ed0c9231b86d4a64ec8a6bd303/CHANGELOG.md#user-content-2400",target:"_blank",rel:"noopener noreferrer"}},[e._v("полной историей изменений"),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("p",[e._v("Плагин "),a("code",[e._v("unit-jest")]),e._v(" теперь поставляется с 4 пресетами конфигурации:")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("@vue/cli-plugin-unit-jest")]),e._v(" — пресет по умолчанию для наиболее распространённых типов проектов")]),e._v(" "),a("li",[a("code",[e._v("@vue/cli-plugin-unit-jest/presets/no-babel")]),e._v(" — если не установлен "),a("code",[e._v("@vue/cli-plugin-babel")]),e._v(" и требуется не использовать babel в проекте")]),e._v(" "),a("li",[a("code",[e._v("@vue/cli-plugin-unit-jest/presets/typescript")]),e._v(" — пресет с поддержкой TypeScript (но без поддержки TSX)")]),e._v(" "),a("li",[a("code",[e._v("@vue/cli-plugin-unit-jest/presets/typescript-and-babel")]),e._v(" — пресет с поддержкой TypeScript (в том числе TSX) и babel.")])]),e._v(" "),a("p",[e._v("Если после создания проекта стандартная конфигурация Jest не изменялась (расположена в файле "),a("code",[e._v("jest.config.js")]),e._v(" или в поле "),a("code",[e._v("jest")]),e._v(" в "),a("code",[e._v("package.json")]),e._v("), то можно просто заменить массивный объект конфигурации одним единственным полем:")]),e._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[e._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// Замените имя пресета на одно из списка выше по необходимости")]),e._v("\n  preset"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'@vue/cli-plugin-unit-jest'")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),a("p",[e._v("(зависимости "),a("code",[e._v("ts-jest")]),e._v(", "),a("code",[e._v("babel-jest")]),e._v(" можно удалить после миграции конфигурации на использование пресета)")]),e._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("Напоминание")]),e._v(" "),a("p",[e._v("По умолчанию тестовое окружение в новых пресетах использует jsdom@15, что отличается от среды по умолчанию в Jest 24 (jsdom@11). Это должно быть согласовано в предстоящем обновлении Jest 25. Большинство пользователей не будут затронуты этим изменением. Подробную информацию, связанную с jsdom, можно найти в истории изменений "),a("a",{attrs:{href:"https://github.com/jsdom/jsdom/blob/master/Changelog.md",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://github.com/jsdom/jsdom/blob/master/Changelog.md"),a("OutboundLink")],1)])]),e._v(" "),a("h3",{attrs:{id:"vue-cli-plugin-unit-mocha"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vue-cli-plugin-unit-mocha"}},[e._v("#")]),e._v(" "),a("code",[e._v("@vue/cli-plugin-unit-mocha")])]),e._v(" "),a("ul",[a("li",[e._v("Теперь используется mochapack вместо mocha-webpack, см. историю изменений "),a("a",{attrs:{href:"https://github.com/sysgears/mochapack/releases",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://github.com/sysgears/mochapack/releases"),a("OutboundLink")],1),e._v(". Это изменение вряд ли повлияет на фактическое использование.")]),e._v(" "),a("li",[e._v("Обновление mocha до версии 6, см. "),a("a",{attrs:{href:"https://github.com/mochajs/mocha/blob/master/CHANGELOG.md#600-0--2019-01-01",target:"_blank",rel:"noopener noreferrer"}},[e._v("историю изменений Mocha"),a("OutboundLink")],1),e._v(" для подробной информации.")])]),e._v(" "),a("h3",{attrs:{id:"vue-cli-service-global"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vue-cli-service-global"}},[e._v("#")]),e._v(" "),a("code",[e._v("@vue/cli-service-global")])]),e._v(" "),a("p",[e._v("См. подробные изменения в пакетах "),a("a",{attrs:{href:"#vue-cli-service"}},[a("code",[e._v("@vue/cli-service")])]),e._v(" и "),a("a",{attrs:{href:"#vue-cli-plugin-eslint"}},[a("code",[e._v("@vue/cli-plugin-eslint")])]),e._v(".")])])}),[],!1,null,null,null);t.default=r.exports}}]);