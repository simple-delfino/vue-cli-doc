(window.webpackJsonp=window.webpackJsonp||[]).push([[72],{438:function(t,s,a){"use strict";a.r(s);var e=a(46),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"пnагины-и-пресеты-настроек"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#пnагины-и-пресеты-настроек"}},[t._v("#")]),t._v(" Плагины и пресеты настроек")]),t._v(" "),a("h2",{attrs:{id:"пnагины"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#пnагины"}},[t._v("#")]),t._v(" Плагины")]),t._v(" "),a("p",[t._v("Vue CLI использует архитектуру на основе плагинов. Если изучить "),a("code",[t._v("package.json")]),t._v(" в только что созданном проекте, можно обнаружить зависимости, которые начинаются с "),a("code",[t._v("@vue/cli-plugin-")]),t._v(". Плагины могут модифицировать внутреннюю конфигурацию webpack и внедрять команды в "),a("code",[t._v("vue-cli-service")]),t._v(". Большинство возможностей, перечисленных в процессе создания проекта, реализованы в виде плагинов.")]),t._v(" "),a("p",[t._v("Основанная на плагинах архитектура позволяет Vue CLI оставаться гибкой и расширяемой. Если вы хотите создать собственный плагин — изучите "),a("RouterLink",{attrs:{to:"/ru/dev-guide/plugin-dev.html"}},[t._v("руководство по созданию плагинов")]),t._v(".")],1),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("Совет")]),t._v(" "),a("p",[t._v("Устанавливать и управлять плагинами можно в GUI с помощью команды "),a("code",[t._v("vue ui")]),t._v(".")])]),t._v(" "),a("h3",{attrs:{id:"установка-пnагинов-в-существующий-проект"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#установка-пnагинов-в-существующий-проект"}},[t._v("#")]),t._v(" Установка плагинов в существующий проект")]),t._v(" "),a("p",[t._v("Каждый плагин для CLI поставляется с генератором (который создаёт файлы) и плагином для runtime (который меняет конфигурацию webpack и внедряет команды). Когда вы используете "),a("code",[t._v("vue create")]),t._v(" для создания нового проекта, некоторые плагины будут уже предустановлены, в зависимости от вашего выбора необходимых возможностей. В случае, когда необходимо установить плагин в уже существующий проект, вы должны сделать это командой "),a("code",[t._v("vue add")]),t._v(":")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("vue "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" eslint\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("Совет")]),t._v(" "),a("p",[t._v("Команда "),a("code",[t._v("vue add")]),t._v(" специально разработана для установки и запуска плагинов Vue CLI. Это не означает, что она заменяет обычные npm-пакеты. Для установки обычных npm-пакетов по-прежнему используйте менеджер пакетов, который выбрали.")])]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("Предупреждение")]),t._v(" "),a("p",[t._v("Рекомендуется закоммитить все текущие изменения в вашем проекте перед запуском "),a("code",[t._v("vue add")]),t._v(", поскольку команда запустит генератор файлов плагина и, возможно, внесёт изменения в уже существующие файлы.")])]),t._v(" "),a("p",[t._v("Команда "),a("code",[t._v("@vue/eslint")]),t._v(" трансформируется в полное название пакета "),a("code",[t._v("@vue/cli-plugin-eslint")]),t._v(", устанавливает его из npm, и запускает его генератор.")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# это аналогично предыдущей команде")]),t._v("\nvue "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" cli-plugin-eslint\n")])])]),a("p",[t._v("Без префикса "),a("code",[t._v("@vue")]),t._v(" команда будет трансформировать название к публичному пакету. Например, чтобы установить сторонний плагин "),a("code",[t._v("vue-cli-plugin-apollo")]),t._v(":")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# устанавливает и запускает vue-cli-plugin-apollo")]),t._v("\nvue "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" apollo\n")])])]),a("p",[t._v("Вы можете также использовать сторонние плагины со специфичным scope. Например, если плагин назван "),a("code",[t._v("@foo/vue-cli-plugin-bar")]),t._v(", то его можно добавить командой:")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("vue "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" @foo/bar\n")])])]),a("p",[t._v("Можно передавать опции генерации в установленный плагин (для пропуска интерактивного выбора):")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("vue "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" eslint --config airbnb --lintOn save\n")])])]),a("p",[t._v("Если плагин уже установлен, вы можете пропустить установку и только вызвать его генератор с помощью команды "),a("code",[t._v("vue invoke")]),t._v(". Команда принимает такие же аргументы, как и "),a("code",[t._v("vue add")]),t._v(".")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("Совет")]),t._v(" "),a("p",[t._v("Если, по какой-либо причине, ваши плагины перечисляются в файле "),a("code",[t._v("package.json")]),t._v(", отличном от расположенного в проекте, то укажите путь к каталогу с другим файлом "),a("code",[t._v("package.json")]),t._v(" в опции "),a("code",[t._v("vuePlugins.resolveFrom")]),t._v(" в файле "),a("code",[t._v("package.json")]),t._v(" проекта.")]),t._v(" "),a("p",[t._v("Например, если у вас есть файл "),a("code",[t._v(".config/package.json")]),t._v(":")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"vuePlugins"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"resolveFrom"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('".config"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),t._v(" "),a("h3",{attrs:{id:"локаnьный-пnагин-проекта"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#локаnьный-пnагин-проекта"}},[t._v("#")]),t._v(" Локальный плагин проекта")]),t._v(" "),a("p",[t._v("Если требуется доступ к API плагина в вашем проекте и вы не хотите создавать полноценный плагин для этого, можно использовать опцию "),a("code",[t._v("vuePlugins.service")]),t._v(" в файле "),a("code",[t._v("package.json")]),t._v(":")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"vuePlugins"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"service"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"my-commands.js"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("Каждому файлу необходимо экспортировать функцию, принимающую API плагина первым аргументом. Для получения дополнительной информации об API плагина ознакомьтесь с "),a("RouterLink",{attrs:{to:"/ru/dev-guide/plugin-dev.html"}},[t._v("руководством по разработке плагинов")]),t._v(".")],1),t._v(" "),a("p",[t._v("Вы можете добавить файлы, которые будут вести себя как плагины UI опцией "),a("code",[t._v("vuePlugins.ui")]),t._v(":")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"vuePlugins"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"ui"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"my-ui.js"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("Для получения дополнительной информации ознакомьтесь с "),a("RouterLink",{attrs:{to:"/ru/dev-guide/ui-api.html"}},[t._v("API плагина для UI")]),t._v(".")],1),t._v(" "),a("h2",{attrs:{id:"пресеты-настроек"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#пресеты-настроек"}},[t._v("#")]),t._v(" Пресеты настроек")]),t._v(" "),a("p",[t._v("Пресет настроек для Vue CLI — JSON-объект, который содержит предустановленные опции и плагины для создания нового проекта, чтобы пользователю не приходилось проходить через цепочку вопросов для их выбора.")]),t._v(" "),a("p",[t._v("Пресеты, сохраняемые во время "),a("code",[t._v("vue create")]),t._v(", создаются в конфигурационном файле в домашнем каталоге пользователя ("),a("code",[t._v("~/.vuerc")]),t._v("). Вы можете напрямую изменять этот файл для внесения правок / добавления / удаления сохранённых пресетов.")]),t._v(" "),a("p",[t._v("Вот пример пресета настроек:")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"useConfigFiles"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"cssPreprocessor"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"sass"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"plugins"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"@vue/cli-plugin-babel"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"@vue/cli-plugin-eslint"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"config"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"airbnb"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"lintOn"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"save"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"commit"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"@vue/cli-plugin-router"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"@vue/cli-plugin-vuex"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("Информация из пресета настроек используется генераторами плагинов для создания в проекте соответствующих файлов. Кроме того, в дополнении к полям выше, возможно добавление дополнительных настроек для встроенных инструментов:")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"useConfigFiles"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"plugins"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("..."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"configs"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"vue"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("..."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"postcss"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("..."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"eslintConfig"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("..."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"jest"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("..."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("Эти дополнительные конфигурации будут объединены в "),a("code",[t._v("package.json")]),t._v(" или соответствующие файлы конфигураций, основываясь на значении "),a("code",[t._v("useConfigFiles")]),t._v(". Например, при указании "),a("code",[t._v('"useConfigFiles": true')]),t._v(", значение "),a("code",[t._v("configs.vue")]),t._v(" будет объединено в файл "),a("code",[t._v("vue.config.js")]),t._v(".")]),t._v(" "),a("h3",{attrs:{id:"версии-пnагинов-в-пресете"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#версии-пnагинов-в-пресете"}},[t._v("#")]),t._v(" Версии плагинов в пресете")]),t._v(" "),a("p",[t._v("Вы можете явно указать версии используемых плагинов:")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"plugins"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"@vue/cli-plugin-eslint"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"version"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^3.0.0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ... другие настройки для этого плагина")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("Обратите внимание, это не требуется для официальных плагинов — если не указано, то CLI автоматически будет использовать последнюю версию, доступную в регистре. Тем не менее, "),a("strong",[t._v("рекомендуется указывать явный диапазон версий для любых сторонних плагинов, перечисленных в пресете")]),t._v(".")]),t._v(" "),a("h3",{attrs:{id:"предоставnение-интерактивного-выбора-поnьзоватеnю"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#предоставnение-интерактивного-выбора-поnьзоватеnю"}},[t._v("#")]),t._v(" Предоставление интерактивного выбора пользователю")]),t._v(" "),a("p",[t._v("Каждый плагин может предоставлять интерактивный выбор пользователю на этапе создания проекта, но при использовании пресета, все эти запросы пользователю пропускаются, потому что Vue CLI подразумевает что все настройки плагинов уже определены в пресете.")]),t._v(" "),a("p",[t._v("В некоторых случаях может возникнуть необходимость, чтобы пресет только объявлял плагины, оставляя при этом некоторую гибкость настройки, запрашивая выбор у пользователя из вариантов, предоставляемых плагином.")]),t._v(" "),a("p",[t._v("Для таких случаев можно указать "),a("code",[t._v('"prompts": true')]),t._v(" в настройках плагина, чтобы позволить пользователю сделать свой выбор:")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"plugins"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"@vue/cli-plugin-eslint"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// разрешаем пользователю выбрать свою конфигурацию ESLint")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"prompts"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"пресет-из-удаnённого-репозитория"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#пресет-из-удаnённого-репозитория"}},[t._v("#")]),t._v(" Пресет из удалённого репозитория")]),t._v(" "),a("p",[t._v("Вы можете поделиться пресетом с другими разработчиками, опубликовав его в git репозитории. Репозиторий должен содержать следующие файлы:")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("preset.json")]),t._v(": основной файл, содержащий настройки пресета (обязателен).")]),t._v(" "),a("li",[a("code",[t._v("generator.js")]),t._v(": "),a("RouterLink",{attrs:{to:"/ru/dev-guide/plugin-dev.html#generator"}},[t._v("генератор")]),t._v(", который внедряет или модифицирует файлы в проекте.")],1),t._v(" "),a("li",[a("code",[t._v("prompts.js")]),t._v(": "),a("RouterLink",{attrs:{to:"/ru/dev-guide/plugin-dev.html#prompts-for-3rd-party-plugins"}},[t._v("файл подсказок")]),t._v(", который может собирать настройки для генератора.")],1)]),t._v(" "),a("p",[t._v("После публикации репозитория, при создании проекта теперь можно указать опцию "),a("code",[t._v("--preset")]),t._v(" для использования пресета из удалённого репозитория:")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# использование пресета из репозитория GitHub")]),t._v("\nvue create --preset username/repo my-project\n")])])]),a("p",[t._v("GitLab и BitBucket также поддерживаются. Убедитесь, что используете опцию "),a("code",[t._v("--clone")]),t._v(" при загрузке из стороннего репозитория:")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("vue create --preset gitlab:username/repo --clone my-project\nvue create --preset bitbucket:username/repo --clone my-project\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# self-hosted repos")]),t._v("\nvue create --preset gitlab:my-gitlab-server.com:group/projectname --clone my-project\nvue create --preset direct:ssh://git@my-gitlab-server.com/group/projectname.git --clone my-project\n")])])]),a("h3",{attrs:{id:"пресет-из-nокаnьного-файnа"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#пресет-из-nокаnьного-файnа"}},[t._v("#")]),t._v(" Пресет из локального файла")]),t._v(" "),a("p",[t._v("При разработке удалённого пресета настроек может часто требоваться отправлять пресет в удалённый репозиторий для его проверки. Для упрощения разработки можно использовать локальные пресеты напрямую. Vue CLI будет загружать локальные пресеты, если путь в значении "),a("code",[t._v("--preset")]),t._v(" будет относительным или абсолютным, или заканчиваться на "),a("code",[t._v(".json")]),t._v(":")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ./my-preset должен быть каталогом, содержащим preset.json")]),t._v("\nvue create --preset ./my-preset my-project\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# или напрямую использовать json-файл в cwd:")]),t._v("\nvue create --preset my-preset.json my-project\n")])])])])}),[],!1,null,null,null);s.default=n.exports}}]);