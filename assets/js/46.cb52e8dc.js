(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{413:function(e,s,r){"use strict";r.r(s);var t=r(46),v=Object(t.a)({},(function(){var e=this,s=e.$createElement,r=e._self._c||s;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h1",{attrs:{id:"vue-cli-plugin-e2e-cypress"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#vue-cli-plugin-e2e-cypress"}},[e._v("#")]),e._v(" @vue/cli-plugin-e2e-cypress")]),e._v(" "),r("blockquote",[r("p",[e._v("Плагин e2e-cypress для vue-cli")])]),e._v(" "),r("p",[e._v("Он добавляет поддержку E2E тестирования с помощью "),r("a",{attrs:{href:"https://www.cypress.io/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Cypress"),r("OutboundLink")],1),e._v(".")]),e._v(" "),r("p",[e._v("Cypress предлагает богатый интерактивный интерфейс для запуска E2E тестов, но в настоящее время поддерживается запуск тестов только в Chromium. При наличии жёстких требований к E2E тестированию в нескольких браузерах, обратите внимание на плагин "),r("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-e2e-nightwatch",target:"_blank",rel:"noopener noreferrer"}},[e._v("@vue/cli-plugin-e2e-nightwatch"),r("OutboundLink")],1),e._v(", основанный на Selenium.")]),e._v(" "),r("h2",{attrs:{id:"внедряемые-команды"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#внедряемые-команды"}},[e._v("#")]),e._v(" Внедряемые команды")]),e._v(" "),r("ul",[r("li",[r("p",[r("strong",[r("code",[e._v("vue-cli-service test:e2e")])])]),e._v(" "),r("p",[e._v("Запуск E2E тестов через "),r("code",[e._v("cypress run")]),e._v(".")]),e._v(" "),r("p",[e._v("По умолчанию Cypress запускается в интерактивном режиме с графическим интерфейсом. Если необходимо запустить тесты в безголовом (headless) режиме (например, для CI), то следует указывать опцию "),r("code",[e._v("--headless")]),e._v(".")]),e._v(" "),r("p",[e._v("Команда автоматически запустит сервер в режиме production для выполнения E2E тестов. Если требуется запускать тесты несколько раз без необходимости перезапускать сервер каждый раз, можно запустить сервер с "),r("code",[e._v("vue-cli-service serve --mode production")]),e._v(" в одном терминале, а затем запускать E2E тесты на этом сервере с помощью опции "),r("code",[e._v("--url")]),e._v(".")]),e._v(" "),r("p",[e._v("Опции:")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v('--headless запуск headless-режиме без GUI\n--mode     указывает режим запуска сервера (по умолчанию: production)\n--url      запускать E2E тесты с заданным URL вместо авто-запуска сервера\n-s, --spec (только в headless-режиме) запуск определённого файла. По умолчанию "all"\n')])])]),r("p",[e._v("Дополнительно:")]),e._v(" "),r("ul",[r("li",[e._v("В режиме GUI, "),r("a",{attrs:{href:"https://docs.cypress.io/guides/guides/command-line.html#cypress-open",target:"_blank",rel:"noopener noreferrer"}},[e._v("все опции Cypress CLI для "),r("code",[e._v("cypress open")]),r("OutboundLink")],1),e._v(" поддерживаются;")]),e._v(" "),r("li",[e._v("В режиме "),r("code",[e._v("--headless")]),e._v(", "),r("a",{attrs:{href:"https://docs.cypress.io/guides/guides/command-line.html#cypress-run",target:"_blank",rel:"noopener noreferrer"}},[e._v("все опции Cypress CLI для "),r("code",[e._v("cypress run")]),r("OutboundLink")],1),e._v(" поддерживаются.")])]),e._v(" "),r("p",[e._v("Примеры:")]),e._v(" "),r("ul",[r("li",[e._v("Запуск Cypress в headless-режиме для конкретного файла: "),r("code",[e._v("vue-cli-service test:e2e --headless --spec tests/e2e/specs/actions.spec.js")])])])])]),e._v(" "),r("h2",{attrs:{id:"конфигурация"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#конфигурация"}},[e._v("#")]),e._v(" Конфигурация")]),e._v(" "),r("p",[e._v("Cypress пред-настроен под размещение всех файлов, связанных с E2E тестированием, в каталоге "),r("code",[e._v("<projectRoot>/tests/e2e")]),e._v(". При необходимости можно "),r("a",{attrs:{href:"https://docs.cypress.io/guides/references/configuration.html#Options",target:"_blank",rel:"noopener noreferrer"}},[e._v("настраивать Cypress через "),r("code",[e._v("cypress.json")]),r("OutboundLink")],1),e._v(".")]),e._v(" "),r("h2",{attrs:{id:"переменные-окружения"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#переменные-окружения"}},[e._v("#")]),e._v(" Переменные окружения")]),e._v(" "),r("p",[e._v("Cypress не загружает .env файлы для ваших файлов тестов, как это делает "),r("code",[e._v("vue-cli")]),e._v(" для "),r("RouterLink",{attrs:{to:"/ru/guide/mode-and-env.html#испоnьзование-переменных-окружения-в-кnиентском-коде"}},[e._v("кода приложения")]),e._v(". Cypress поддерживает несколько способов для "),r("a",{attrs:{href:"https://docs.cypress.io/guides/guides/environment-variables.html#",target:"_blank",rel:"noopener noreferrer"}},[e._v("определения переменных окружения"),r("OutboundLink")],1),e._v(", но самым простым будем использование .json файлов ("),r("code",[e._v("cypress.json")]),e._v(" или "),r("code",[e._v("cypress.env.json")]),e._v(") для определения переменных окружения. Обратите внимание, что эти переменные доступны через функцию "),r("code",[e._v("Cypress.env")]),e._v(", а не через объект "),r("code",[e._v("process.env")]),e._v(".")],1),e._v(" "),r("h2",{attrs:{id:"установка-в-уже-созданный-проект"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#установка-в-уже-созданный-проект"}},[e._v("#")]),e._v(" Установка в уже созданный проект")]),e._v(" "),r("div",{staticClass:"language-sh extra-class"},[r("pre",{pre:!0,attrs:{class:"language-sh"}},[r("code",[e._v("vue "),r("span",{pre:!0,attrs:{class:"token function"}},[e._v("add")]),e._v(" e2e-cypress\n")])])])])}),[],!1,null,null,null);s.default=v.exports}}]);