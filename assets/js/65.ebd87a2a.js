(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{431:function(e,s,t){"use strict";t.r(s);var a=t(46),r=Object(a.a)({},(function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"сервис-cli"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#сервис-cli"}},[e._v("#")]),e._v(" Сервис CLI")]),e._v(" "),t("h2",{attrs:{id:"испоnьзование-binary"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#испоnьзование-binary"}},[e._v("#")]),e._v(" Использование Binary")]),e._v(" "),t("p",[e._v("Внутри проекта Vue CLI, "),t("code",[e._v("@vue/cli-service")]),e._v(" устанавливает бинарник "),t("code",[e._v("vue-cli-service")]),e._v(". К нему можно получить доступ через "),t("code",[e._v("vue-cli-service")]),e._v(" в npm-скриптах, или через "),t("code",[e._v("./node_modules/.bin/vue-cli-service")]),e._v(" из терминала.")]),e._v(" "),t("p",[e._v("Это то, что вы увидите в "),t("code",[e._v("package.json")]),e._v(" проекта с пресетом настроек по умолчанию:")]),e._v(" "),t("div",{staticClass:"language-json extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"scripts"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"serve"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"vue-cli-service serve"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"build"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"vue-cli-service build"')]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),t("p",[e._v("Вы можете вызвать эти команды с помощью npm или Yarn:")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" run serve\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# ИЛИ")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("yarn")]),e._v(" serve\n")])])]),t("p",[e._v("Если у вас установлен "),t("a",{attrs:{href:"https://github.com/npm/npx",target:"_blank",rel:"noopener noreferrer"}},[e._v("npx"),t("OutboundLink")],1),e._v(" (должен поставляться в комплекте с последней версией npm), то вы также можете запустить бинарник напрямую:")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("npx vue-cli-service serve\n")])])]),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[e._v("Совет")]),e._v(" "),t("p",[e._v("Запускать команды с дополнительными возможностями можно из GUI через "),t("code",[e._v("vue ui")]),e._v(".")])]),e._v(" "),t("p",[e._v("Пример работы Webpack Analyzer запущенного из графического интерфейса:")]),e._v(" "),t("p",[t("img",{attrs:{src:"/ui-analyzer.png",alt:"UI Webpack Analyzer"}})]),e._v(" "),t("h2",{attrs:{id:"vue-cli-service-serve"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#vue-cli-service-serve"}},[e._v("#")]),e._v(" vue-cli-service serve")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("Использование: vue-cli-service serve [options] [entry]\n\nОпции:\n\n  --open         открыть браузер при запуске сервера\n  --copy         скопировать url в буфер обмена при запуске сервера\n  --mode         определить режим сборки (по умолчанию: development)\n  --host         определить хост (по умолчанию: 0.0.0.0)\n  --port         определить порт (по умолчанию: 8080)\n  --https        использовать https (по умолчанию: false)\n  --public       указать URL-адрес публичной сети для клиента HMR\n  --skip-plugins имена плагинов через запятую, которые следует пропустить при запуске\n")])])]),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[e._v("--copy")]),e._v(" "),t("p",[e._v("Копирование в буфер обмена может не работать на некоторых платформах. Если копирование выполнилось успешно, то рядом с URL-адресом локального сервера разработки будет отображено "),t("code",[e._v("(copied to clipboard)")]),e._v(".")])]),e._v(" "),t("p",[e._v("Команда "),t("code",[e._v("vue-cli-service serve")]),e._v(" запускает сервер для разработки (основанный на "),t("a",{attrs:{href:"https://github.com/webpack/webpack-dev-server",target:"_blank",rel:"noopener noreferrer"}},[e._v("webpack-dev-server"),t("OutboundLink")],1),e._v("), предоставляющий из коробки функцию горячей замены модулей.")]),e._v(" "),t("p",[e._v("Кроме флагов командной строки, также можно настраивать сервер для разработки с помощью поля "),t("RouterLink",{attrs:{to:"/ru/config/#devserver"}},[e._v("devServer")]),e._v(" в файле "),t("code",[e._v("vue.config.js")]),e._v(".")],1),e._v(" "),t("p",[e._v("В команде CLI "),t("code",[e._v("[entry]")]),e._v(" означает "),t("em",[e._v("входной файл")]),e._v(" (по умолчанию: "),t("code",[e._v("src/main.js")]),e._v(" или "),t("code",[e._v("src/main.ts")]),e._v(" в проектах с TypeScript), а не "),t("em",[e._v("дополнительный входной файл")]),e._v(". Если вы перезапишете запись в CLI, тогда записи из "),t("code",[e._v("config.pages")]),e._v(" больше не будут учитываться, что может привести к ошибке.")]),e._v(" "),t("h2",{attrs:{id:"vue-cli-service-build"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#vue-cli-service-build"}},[e._v("#")]),e._v(" vue-cli-service build")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("Использование: vue-cli-service build [options] [entry|pattern]\n\nОпции:\n\n  --mode             определить режим сборки (по умолчанию: production)\n  --dest             определить каталог сборки (по умолчанию: dist)\n  --modern           собирать приложение для современных браузеров с авто-фоллбэком для старых\n  --no-unsafe-inline собирать приложение без внедрения инлайн-скриптов\n  --target           app | lib | wc | wc-async (по умолчанию: app)\n  --formats          список выходных форматов для сборок библиотек (по умолчанию: commonjs,umd,umd-min)\n  --inline-vue       включить Vue в содержимое сборки библиотеки или веб-компонента\n  --name             имя библиотеки или режим веб-компонента (по умолчанию: \"name\" в package.json или имя файла точки входа)\n  --filename         имя выходного файла, только для 'lib' (по умолчанию: значение --name)\n  --no-clean         не удалять каталог dist перед сборкой проекта\n  --report           сгенерировать report.html для анализа содержимого сборки\n  --report-json      сгенерировать report.json для анализа содержимого сборки\n  --skip-plugins     имена плагинов через запятую, которые следует пропустить при запуске\n  --watch            отслеживать изменения\n")])])]),t("p",[e._v("Команда "),t("code",[e._v("vue-cli-service build")]),e._v(" создаёт готовую для production сборку в каталоге "),t("code",[e._v("dist/")]),e._v(" с минификацией для JS / CSS / HTML и автоматическим разделением вендорного кода в отдельный фрагмент для лучшего кэширования. Манифест фрагмента вставляется инлайн в HTML.")]),e._v(" "),t("p",[e._v("Есть несколько полезных флагов:")]),e._v(" "),t("ul",[t("li",[t("p",[t("code",[e._v("--modern")]),e._v(" собирает ваше приложение, используя "),t("RouterLink",{attrs:{to:"/ru/guide/browser-compatibility.html#современный-режим"}},[e._v("Современный режим")]),e._v(", поставляет нативный код ES2015 в современные браузеры, которые поддерживают его, а также автоматический fallback на сборку для старых браузеров.")],1)]),e._v(" "),t("li",[t("p",[t("code",[e._v("--target")]),e._v(" позволяет вам создавать любые компоненты внутри вашего проекта в виде библиотек или веб-компонентов. Подробнее в разделе "),t("RouterLink",{attrs:{to:"/ru/guide/build-targets.html"}},[e._v("Цели сборки")]),e._v(".")],1)]),e._v(" "),t("li",[t("p",[t("code",[e._v("--report")]),e._v(" и "),t("code",[e._v("--report-json")]),e._v(" будут генерировать отчёты на основе полученной статистики сборки, которые помогут вам анализировать размеры модулей, используемых в сборке.")])])]),e._v(" "),t("h2",{attrs:{id:"vue-cli-service-inspect"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#vue-cli-service-inspect"}},[e._v("#")]),e._v(" vue-cli-service inspect")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("Использование: vue-cli-service inspect [options] [...paths]\n\nОпции:\n\n  --mode    определить режим сборки (по умолчанию: development)\n")])])]),t("p",[e._v("Вы можете использовать "),t("code",[e._v("vue-cli-service inspect")]),e._v(" для проверки конфигурации webpack внутри проекта Vue CLI. Подробнее в разделе "),t("RouterLink",{attrs:{to:"/ru/guide/webpack.html#просмотр-конфигурации-webpack-проекта"}},[e._v("просмотр конфигурации Webpack проекта")]),e._v(".")],1),e._v(" "),t("h2",{attrs:{id:"список-всех-доступных-команд"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#список-всех-доступных-команд"}},[e._v("#")]),e._v(" Список всех доступных команд")]),e._v(" "),t("p",[e._v("Некоторые плагины CLI добавляют собственные команды в "),t("code",[e._v("vue-cli-service")]),e._v(". Например, "),t("code",[e._v("@vue/cli-plugin-eslint")]),e._v(" внедряет команду "),t("code",[e._v("vue-cli-service lint")]),e._v(". Вы можете посмотреть весь список команд запустив:")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("npx vue-cli-service "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("help")]),e._v("\n")])])]),t("p",[e._v("Вы также можете узнать о доступных параметрах каждой команды с помощью:")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("npx vue-cli-service "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("help")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("command"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\n")])])]),t("h2",{attrs:{id:"пропуск-пnагинов"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#пропуск-пnагинов"}},[e._v("#")]),e._v(" Пропуск плагинов")]),e._v(" "),t("p",[e._v("Иногда при выполнении команды может понадобиться не использовать определённый плагин CLI. К примеру, для создания сборки приложения без плагина PWA. Такого можно добиться передав имя плагина в опцию "),t("code",[e._v("--skip-plugins")]),e._v(".")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("npx vue-cli-service build --skip-plugins pwa\n")])])]),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[e._v("СОВЕТ")]),e._v(" "),t("p",[e._v("Опция доступна для "),t("em",[e._v("любых")]),e._v(" команд "),t("code",[e._v("vue-cli-service")]),e._v(", включая пользовательские команды, добавленные другими плагинами.")])]),e._v(" "),t("p",[e._v("Можно пропустить несколько подключаемых плагинов, передав их имена через запятую:")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("npx vue-cli-service build --skip-plugins pwa,apollo\n")])])]),t("p",[e._v("Имена плагинов разрешаются также, как и при установке, что подробнее описано "),t("RouterLink",{attrs:{to:"/ru/guide/plugins-and-presets.html#установка-пnагинов-в-существующий-проект"}},[e._v("здесь")])],1),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# все вызовы равнозначны")]),e._v("\nnpx vue-cli-service build --skip-plugins pwa\nnpx vue-cli-service build --skip-plugins @vue/pwa\nnpx vue-cli-service build --skip-plugins @vue/cli-plugin-pwa\n")])])]),t("h2",{attrs:{id:"кэширование-и-параnnеnизация"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#кэширование-и-параnnеnизация"}},[e._v("#")]),e._v(" Кэширование и параллелизация")]),e._v(" "),t("ul",[t("li",[t("p",[t("code",[e._v("cache-loader")]),e._v(" используется для компиляции Vue / Babel / TypeScript по умолчанию. Файлы кэшируются внутри "),t("code",[e._v("node_modules/.cache")]),e._v(" — если при запуске будут возникать проблемы с компиляцией, сначала попробуйте удалить каталог кэша.")])]),e._v(" "),t("li",[t("p",[t("code",[e._v("thread-loader")]),e._v(" будет использоваться для транспиляции Babel / TypeScript, когда в системе доступно более 1 процессорного ядра.")])])]),e._v(" "),t("h2",{attrs:{id:"git-хуки"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#git-хуки"}},[e._v("#")]),e._v(" Git хуки")]),e._v(" "),t("p",[e._v("После установки "),t("code",[e._v("@vue/cli-service")]),e._v(" также добавляется "),t("a",{attrs:{href:"https://github.com/yyx990803/yorkie",target:"_blank",rel:"noopener noreferrer"}},[e._v("yorkie"),t("OutboundLink")],1),e._v(", который позволяет легко указывать Git хуки, используя поле "),t("code",[e._v("gitHooks")]),e._v(" в файле "),t("code",[e._v("package.json")]),e._v(":")]),e._v(" "),t("div",{staticClass:"language-json extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"gitHooks"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"pre-commit"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"lint-staged"')]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"lint-staged"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"*.{js,vue}"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("\n      "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"vue-cli-service lint"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n      "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"git add"')]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),t("div",{staticClass:"custom-block warning"},[t("p",{staticClass:"custom-block-title"},[e._v("Предупреждение")]),e._v(" "),t("p",[t("code",[e._v("yorkie")]),e._v(" — это форк "),t("a",{attrs:{href:"https://github.com/typicode/husky",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("husky")]),t("OutboundLink")],1),e._v(" без обратной совместимости с ним.")])]),e._v(" "),t("h2",{attrs:{id:"конфигурация-без-извnечения"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#конфигурация-без-извnечения"}},[e._v("#")]),e._v(" Конфигурация без извлечения")]),e._v(" "),t("p",[e._v("Проекты, созданные с помощью "),t("code",[e._v("vue create")]),e._v(" уже готовы к работе без необходимости дополнительной настройки. Плагины предназначены для работы друг с другом, поэтому в большинстве случаев всё что вам нужно сделать — это выбрать необходимые возможности во время интерактивных запросов выбора.")]),e._v(" "),t("p",[e._v("Однако мы также понимаем, что невозможно удовлетворить все возможные потребности, как и потребности проекта могут изменяться с течением времени. Поэтому проекты, созданные Vue CLI, позволяют настраивать практически все аспекты без необходимости извлечения конфигурации. Подробную информацию можно найти в разделе "),t("RouterLink",{attrs:{to:"/ru/config/"}},[e._v("Конфигурация")]),e._v(".")],1)])}),[],!1,null,null,null);s.default=r.exports}}]);